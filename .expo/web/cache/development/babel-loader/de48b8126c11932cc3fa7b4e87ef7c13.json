{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { isObject, isString, isUndefined, isBoolean } from '@react-native-firebase/app/lib/common';\n\nvar User = function () {\n  function User(auth, user) {\n    _classCallCheck(this, User);\n\n    this._auth = auth;\n    this._user = user;\n  }\n\n  _createClass(User, [{\n    key: \"displayName\",\n    get: function get() {\n      return this._user.displayName || null;\n    }\n  }, {\n    key: \"email\",\n    get: function get() {\n      return this._user.email || null;\n    }\n  }, {\n    key: \"emailVerified\",\n    get: function get() {\n      return this._user.emailVerified || false;\n    }\n  }, {\n    key: \"isAnonymous\",\n    get: function get() {\n      return this._user.isAnonymous || false;\n    }\n  }, {\n    key: \"metadata\",\n    get: function get() {\n      var metadata = this._user.metadata;\n      return {\n        lastSignInTime: new Date(metadata.lastSignInTime).toISOString(),\n        creationTime: new Date(metadata.creationTime).toISOString()\n      };\n    }\n  }, {\n    key: \"phoneNumber\",\n    get: function get() {\n      return this._user.phoneNumber || null;\n    }\n  }, {\n    key: \"tenantId\",\n    get: function get() {\n      return this._user.tenantId || null;\n    }\n  }, {\n    key: \"photoURL\",\n    get: function get() {\n      return this._user.photoURL || null;\n    }\n  }, {\n    key: \"providerData\",\n    get: function get() {\n      return this._user.providerData;\n    }\n  }, {\n    key: \"providerId\",\n    get: function get() {\n      return this._user.providerId;\n    }\n  }, {\n    key: \"uid\",\n    get: function get() {\n      return this._user.uid;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _this = this;\n\n      return this._auth.native.delete().then(function () {\n        _this._auth._setUser();\n      });\n    }\n  }, {\n    key: \"getIdToken\",\n    value: function getIdToken() {\n      var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return this._auth.native.getIdToken(forceRefresh);\n    }\n  }, {\n    key: \"getIdTokenResult\",\n    value: function getIdTokenResult() {\n      var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return this._auth.native.getIdTokenResult(forceRefresh);\n    }\n  }, {\n    key: \"linkWithCredential\",\n    value: function linkWithCredential(credential) {\n      var _this2 = this;\n\n      return this._auth.native.linkWithCredential(credential.providerId, credential.token, credential.secret).then(function (userCredential) {\n        return _this2._auth._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"reauthenticateWithCredential\",\n    value: function reauthenticateWithCredential(credential) {\n      var _this3 = this;\n\n      return this._auth.native.reauthenticateWithCredential(credential.providerId, credential.token, credential.secret).then(function (userCredential) {\n        return _this3._auth._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this4 = this;\n\n      return this._auth.native.reload().then(function (user) {\n        _this4._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"sendEmailVerification\",\n    value: function sendEmailVerification(actionCodeSettings) {\n      var _this5 = this;\n\n      if (isObject(actionCodeSettings)) {\n        if (!isString(actionCodeSettings.url)) {\n          throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.url' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.dynamicLinkDomain) && !isString(actionCodeSettings.dynamicLinkDomain)) {\n          throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.handleCodeInApp) && !isBoolean(actionCodeSettings.handleCodeInApp)) {\n          throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.iOS)) {\n          if (!isObject(actionCodeSettings.iOS)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.iOS.bundleId)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS.bundleId' expected a string value.\");\n          }\n        }\n\n        if (!isUndefined(actionCodeSettings.android)) {\n          if (!isObject(actionCodeSettings.android)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.android.packageName)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.packageName' expected a string value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.installApp) && !isBoolean(actionCodeSettings.android.installApp)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.installApp' expected a boolean value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.minimumVersion) && !isString(actionCodeSettings.android.minimumVersion)) {\n            throw new Error(\"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.minimumVersion' expected a string value.\");\n          }\n        }\n      }\n\n      return this._auth.native.sendEmailVerification(actionCodeSettings).then(function (user) {\n        _this5._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return _extends({}, this._user);\n    }\n  }, {\n    key: \"unlink\",\n    value: function unlink(providerId) {\n      var _this6 = this;\n\n      return this._auth.native.unlink(providerId).then(function (user) {\n        return _this6._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updateEmail\",\n    value: function updateEmail(email) {\n      var _this7 = this;\n\n      return this._auth.native.updateEmail(email).then(function (user) {\n        _this7._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updatePassword\",\n    value: function updatePassword(password) {\n      var _this8 = this;\n\n      return this._auth.native.updatePassword(password).then(function (user) {\n        _this8._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updatePhoneNumber\",\n    value: function updatePhoneNumber(credential) {\n      var _this9 = this;\n\n      return this._auth.native.updatePhoneNumber(credential.providerId, credential.token, credential.secret).then(function (user) {\n        _this9._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"updateProfile\",\n    value: function updateProfile(updates) {\n      var _this10 = this;\n\n      return this._auth.native.updateProfile(updates).then(function (user) {\n        _this10._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"verifyBeforeUpdateEmail\",\n    value: function verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\n      var _this11 = this;\n\n      if (!isString(newEmail)) {\n        throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(*) 'newEmail' expected a string value.\");\n      }\n\n      if (isObject(actionCodeSettings)) {\n        if (!isString(actionCodeSettings.url)) {\n          throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.url' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.dynamicLinkDomain) && !isString(actionCodeSettings.dynamicLinkDomain)) {\n          throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.handleCodeInApp) && !isBoolean(actionCodeSettings.handleCodeInApp)) {\n          throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\");\n        }\n\n        if (!isUndefined(actionCodeSettings.iOS)) {\n          if (!isObject(actionCodeSettings.iOS)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.iOS.bundleId)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS.bundleId' expected a string value.\");\n          }\n        }\n\n        if (!isUndefined(actionCodeSettings.android)) {\n          if (!isObject(actionCodeSettings.android)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android' expected an object value.\");\n          }\n\n          if (!isString(actionCodeSettings.android.packageName)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.packageName' expected a string value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.installApp) && !isBoolean(actionCodeSettings.android.installApp)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.installApp' expected a boolean value.\");\n          }\n\n          if (!isUndefined(actionCodeSettings.android.minimumVersion) && !isString(actionCodeSettings.android.minimumVersion)) {\n            throw new Error(\"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.minimumVersion' expected a string value.\");\n          }\n        }\n      }\n\n      return this._auth.native.verifyBeforeUpdateEmail(newEmail, actionCodeSettings).then(function (user) {\n        _this11._auth._setUser(user);\n      });\n    }\n  }, {\n    key: \"linkWithPhoneNumber\",\n    value: function linkWithPhoneNumber() {\n      throw new Error('firebase.auth.User.linkWithPhoneNumber() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"linkWithPopup\",\n    value: function linkWithPopup() {\n      throw new Error('firebase.auth.User.linkWithPopup() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"linkWithRedirect\",\n    value: function linkWithRedirect() {\n      throw new Error('firebase.auth.User.linkWithRedirect() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"reauthenticateWithPhoneNumber\",\n    value: function reauthenticateWithPhoneNumber() {\n      throw new Error('firebase.auth.User.reauthenticateWithPhoneNumber() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"reauthenticateWithPopup\",\n    value: function reauthenticateWithPopup() {\n      throw new Error('firebase.auth.User.reauthenticateWithPopup() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"reauthenticateWithRedirect\",\n    value: function reauthenticateWithRedirect() {\n      throw new Error('firebase.auth.User.reauthenticateWithRedirect() is unsupported by the native Firebase SDKs.');\n    }\n  }, {\n    key: \"refreshToken\",\n    get: function get() {\n      throw new Error('firebase.auth.User.refreshToken is unsupported by the native Firebase SDKs.');\n    }\n  }]);\n\n  return User;\n}();\n\nexport { User as default };","map":{"version":3,"sources":["D:/marketsite/node_modules/@react-native-firebase/auth/lib/User.js"],"names":["isObject","isString","isUndefined","isBoolean","User","auth","user","_auth","_user","displayName","email","emailVerified","isAnonymous","metadata","lastSignInTime","Date","toISOString","creationTime","phoneNumber","tenantId","photoURL","providerData","providerId","uid","native","delete","then","_setUser","forceRefresh","getIdToken","getIdTokenResult","credential","linkWithCredential","token","secret","userCredential","_setUserCredential","reauthenticateWithCredential","reload","actionCodeSettings","url","Error","dynamicLinkDomain","handleCodeInApp","iOS","bundleId","android","packageName","installApp","minimumVersion","sendEmailVerification","unlink","updateEmail","password","updatePassword","updatePhoneNumber","updates","updateProfile","newEmail","verifyBeforeUpdateEmail"],"mappings":"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","sourcesContent":["/*\r\n * Copyright (c) 2016-present Invertase Limited & Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this library except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n */\r\n\r\nimport { isObject, isString, isUndefined, isBoolean } from '@react-native-firebase/app/lib/common';\r\n\r\nexport default class User {\r\n  constructor(auth, user) {\r\n    this._auth = auth;\r\n    this._user = user;\r\n  }\r\n\r\n  get displayName() {\r\n    return this._user.displayName || null;\r\n  }\r\n\r\n  get email() {\r\n    return this._user.email || null;\r\n  }\r\n\r\n  get emailVerified() {\r\n    return this._user.emailVerified || false;\r\n  }\r\n\r\n  get isAnonymous() {\r\n    return this._user.isAnonymous || false;\r\n  }\r\n\r\n  get metadata() {\r\n    const { metadata } = this._user;\r\n\r\n    return {\r\n      lastSignInTime: new Date(metadata.lastSignInTime).toISOString(),\r\n      creationTime: new Date(metadata.creationTime).toISOString(),\r\n    };\r\n  }\r\n\r\n  get phoneNumber() {\r\n    return this._user.phoneNumber || null;\r\n  }\r\n\r\n  get tenantId() {\r\n    return this._user.tenantId || null;\r\n  }\r\n\r\n  get photoURL() {\r\n    return this._user.photoURL || null;\r\n  }\r\n\r\n  get providerData() {\r\n    return this._user.providerData;\r\n  }\r\n\r\n  get providerId() {\r\n    return this._user.providerId;\r\n  }\r\n\r\n  get uid() {\r\n    return this._user.uid;\r\n  }\r\n\r\n  delete() {\r\n    return this._auth.native.delete().then(() => {\r\n      this._auth._setUser();\r\n    });\r\n  }\r\n\r\n  getIdToken(forceRefresh = false) {\r\n    return this._auth.native.getIdToken(forceRefresh);\r\n  }\r\n\r\n  getIdTokenResult(forceRefresh = false) {\r\n    return this._auth.native.getIdTokenResult(forceRefresh);\r\n  }\r\n\r\n  linkWithCredential(credential) {\r\n    return this._auth.native\r\n      .linkWithCredential(credential.providerId, credential.token, credential.secret)\r\n      .then(userCredential => this._auth._setUserCredential(userCredential));\r\n  }\r\n\r\n  reauthenticateWithCredential(credential) {\r\n    return this._auth.native\r\n      .reauthenticateWithCredential(credential.providerId, credential.token, credential.secret)\r\n      .then(userCredential => this._auth._setUserCredential(userCredential));\r\n  }\r\n\r\n  reload() {\r\n    return this._auth.native.reload().then(user => {\r\n      this._auth._setUser(user);\r\n    });\r\n  }\r\n\r\n  sendEmailVerification(actionCodeSettings) {\r\n    if (isObject(actionCodeSettings)) {\r\n      if (!isString(actionCodeSettings.url)) {\r\n        throw new Error(\r\n          \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.url' expected a string value.\",\r\n        );\r\n      }\r\n\r\n      if (\r\n        !isUndefined(actionCodeSettings.dynamicLinkDomain) &&\r\n        !isString(actionCodeSettings.dynamicLinkDomain)\r\n      ) {\r\n        throw new Error(\r\n          \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\",\r\n        );\r\n      }\r\n\r\n      if (\r\n        !isUndefined(actionCodeSettings.handleCodeInApp) &&\r\n        !isBoolean(actionCodeSettings.handleCodeInApp)\r\n      ) {\r\n        throw new Error(\r\n          \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\",\r\n        );\r\n      }\r\n\r\n      if (!isUndefined(actionCodeSettings.iOS)) {\r\n        if (!isObject(actionCodeSettings.iOS)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS' expected an object value.\",\r\n          );\r\n        }\r\n        if (!isString(actionCodeSettings.iOS.bundleId)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.iOS.bundleId' expected a string value.\",\r\n          );\r\n        }\r\n      }\r\n\r\n      if (!isUndefined(actionCodeSettings.android)) {\r\n        if (!isObject(actionCodeSettings.android)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android' expected an object value.\",\r\n          );\r\n        }\r\n        if (!isString(actionCodeSettings.android.packageName)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.packageName' expected a string value.\",\r\n          );\r\n        }\r\n\r\n        if (\r\n          !isUndefined(actionCodeSettings.android.installApp) &&\r\n          !isBoolean(actionCodeSettings.android.installApp)\r\n        ) {\r\n          throw new Error(\r\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.installApp' expected a boolean value.\",\r\n          );\r\n        }\r\n\r\n        if (\r\n          !isUndefined(actionCodeSettings.android.minimumVersion) &&\r\n          !isString(actionCodeSettings.android.minimumVersion)\r\n        ) {\r\n          throw new Error(\r\n            \"firebase.auth.User.sendEmailVerification(*) 'actionCodeSettings.android.minimumVersion' expected a string value.\",\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    return this._auth.native.sendEmailVerification(actionCodeSettings).then(user => {\r\n      this._auth._setUser(user);\r\n    });\r\n  }\r\n\r\n  toJSON() {\r\n    return Object.assign({}, this._user);\r\n  }\r\n\r\n  unlink(providerId) {\r\n    return this._auth.native.unlink(providerId).then(user => this._auth._setUser(user));\r\n  }\r\n\r\n  updateEmail(email) {\r\n    return this._auth.native.updateEmail(email).then(user => {\r\n      this._auth._setUser(user);\r\n    });\r\n  }\r\n\r\n  updatePassword(password) {\r\n    return this._auth.native.updatePassword(password).then(user => {\r\n      this._auth._setUser(user);\r\n    });\r\n  }\r\n\r\n  updatePhoneNumber(credential) {\r\n    return this._auth.native\r\n      .updatePhoneNumber(credential.providerId, credential.token, credential.secret)\r\n      .then(user => {\r\n        this._auth._setUser(user);\r\n      });\r\n  }\r\n\r\n  updateProfile(updates) {\r\n    return this._auth.native.updateProfile(updates).then(user => {\r\n      this._auth._setUser(user);\r\n    });\r\n  }\r\n\r\n  verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\r\n    if (!isString(newEmail)) {\r\n      throw new Error(\r\n        \"firebase.auth.User.verifyBeforeUpdateEmail(*) 'newEmail' expected a string value.\",\r\n      );\r\n    }\r\n\r\n    if (isObject(actionCodeSettings)) {\r\n      if (!isString(actionCodeSettings.url)) {\r\n        throw new Error(\r\n          \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.url' expected a string value.\",\r\n        );\r\n      }\r\n\r\n      if (\r\n        !isUndefined(actionCodeSettings.dynamicLinkDomain) &&\r\n        !isString(actionCodeSettings.dynamicLinkDomain)\r\n      ) {\r\n        throw new Error(\r\n          \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.dynamicLinkDomain' expected a string value.\",\r\n        );\r\n      }\r\n\r\n      if (\r\n        !isUndefined(actionCodeSettings.handleCodeInApp) &&\r\n        !isBoolean(actionCodeSettings.handleCodeInApp)\r\n      ) {\r\n        throw new Error(\r\n          \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.handleCodeInApp' expected a boolean value.\",\r\n        );\r\n      }\r\n\r\n      if (!isUndefined(actionCodeSettings.iOS)) {\r\n        if (!isObject(actionCodeSettings.iOS)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS' expected an object value.\",\r\n          );\r\n        }\r\n        if (!isString(actionCodeSettings.iOS.bundleId)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.iOS.bundleId' expected a string value.\",\r\n          );\r\n        }\r\n      }\r\n\r\n      if (!isUndefined(actionCodeSettings.android)) {\r\n        if (!isObject(actionCodeSettings.android)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android' expected an object value.\",\r\n          );\r\n        }\r\n        if (!isString(actionCodeSettings.android.packageName)) {\r\n          throw new Error(\r\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.packageName' expected a string value.\",\r\n          );\r\n        }\r\n\r\n        if (\r\n          !isUndefined(actionCodeSettings.android.installApp) &&\r\n          !isBoolean(actionCodeSettings.android.installApp)\r\n        ) {\r\n          throw new Error(\r\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.installApp' expected a boolean value.\",\r\n          );\r\n        }\r\n\r\n        if (\r\n          !isUndefined(actionCodeSettings.android.minimumVersion) &&\r\n          !isString(actionCodeSettings.android.minimumVersion)\r\n        ) {\r\n          throw new Error(\r\n            \"firebase.auth.User.verifyBeforeUpdateEmail(_, *) 'actionCodeSettings.android.minimumVersion' expected a string value.\",\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    return this._auth.native.verifyBeforeUpdateEmail(newEmail, actionCodeSettings).then(user => {\r\n      this._auth._setUser(user);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * KNOWN UNSUPPORTED METHODS\r\n   */\r\n\r\n  linkWithPhoneNumber() {\r\n    throw new Error(\r\n      'firebase.auth.User.linkWithPhoneNumber() is unsupported by the native Firebase SDKs.',\r\n    );\r\n  }\r\n\r\n  linkWithPopup() {\r\n    throw new Error(\r\n      'firebase.auth.User.linkWithPopup() is unsupported by the native Firebase SDKs.',\r\n    );\r\n  }\r\n\r\n  linkWithRedirect() {\r\n    throw new Error(\r\n      'firebase.auth.User.linkWithRedirect() is unsupported by the native Firebase SDKs.',\r\n    );\r\n  }\r\n\r\n  reauthenticateWithPhoneNumber() {\r\n    throw new Error(\r\n      'firebase.auth.User.reauthenticateWithPhoneNumber() is unsupported by the native Firebase SDKs.',\r\n    );\r\n  }\r\n\r\n  reauthenticateWithPopup() {\r\n    throw new Error(\r\n      'firebase.auth.User.reauthenticateWithPopup() is unsupported by the native Firebase SDKs.',\r\n    );\r\n  }\r\n\r\n  reauthenticateWithRedirect() {\r\n    throw new Error(\r\n      'firebase.auth.User.reauthenticateWithRedirect() is unsupported by the native Firebase SDKs.',\r\n    );\r\n  }\r\n\r\n  get refreshToken() {\r\n    throw new Error('firebase.auth.User.refreshToken is unsupported by the native Firebase SDKs.');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}