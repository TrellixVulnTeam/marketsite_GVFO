{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\marketsite\\\\screens\\\\PaymentHistory.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport { useFocusEffect } from '@react-navigation/native';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport * as firebase from 'firebase';\nimport db from \"../config\";\n\nvar PaymentHistory = function PaymentHistory() {\n  var renderGridItem = function renderGridItem(itemData) {\n    return React.createElement(TouchableOpacity, {\n      style: styles.list1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: styles.listname,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 11\n      }\n    }, itemData.item.serviceprovider_name), React.createElement(Text, {\n      style: styles.timeanddate,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }\n    }, itemData.item.Booking_Date), React.createElement(View, {\n      style: styles.amountColumn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.amount,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }\n    }, \"Amount\"), React.createElement(View, {\n      style: styles.imageRow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 13\n      }\n    }, React.createElement(Image, {\n      source: require(\"../assets/images/rupee-indian.png\"),\n      resizeMode: \"contain\",\n      style: styles.image,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 15\n      }\n    }), React.createElement(Text, {\n      style: styles.text2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }\n    }, itemData.item.final_charge))));\n  };\n\n  var result = [];\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      booking = _useState4[0],\n      setBooking = _useState4[1];\n\n  var email = firebase.auth().currentUser.email;\n\n  var getBooking = function getBooking() {\n    return _regeneratorRuntime.async(function getBooking$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(db.collection(\"booking\").doc(email).collection(email).get().then(function (querySnapshot) {\n              querySnapshot.forEach(function (doc) {\n                result.push(doc.data());\n              });\n            }));\n\n          case 2:\n            setBooking(result);\n            setLoading(false);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useFocusEffect(function () {\n    getBooking();\n  });\n  if (loading) return null;\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    keyExtractor: function keyExtractor(item) {\n      return item.Booking_id;\n    },\n    data: booking,\n    renderItem: renderGridItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(238,238,238,1)\"\n  },\n  list1: {\n    width: 395,\n    height: 63,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    marginTop: 5\n  },\n  listname: {\n    color: \"#121212\",\n    height: 29,\n    width: 143,\n    fontSize: 17,\n    marginTop: 6,\n    marginLeft: 11,\n    fontWeight: 'bold'\n  },\n  timeanddate: {\n    color: \"#121212\",\n    marginTop: 0,\n    marginLeft: 11\n  },\n  amount: {\n    color: \"#121212\"\n  },\n  image: {\n    width: 12,\n    height: 10,\n    marginTop: 4\n  },\n  text2: {\n    color: \"#121212\",\n    marginLeft: 2\n  },\n  imageRow: {\n    height: 20,\n    flexDirection: \"row\",\n    marginTop: 2,\n    marginLeft: 2,\n    marginRight: 10\n  },\n  amountColumn: {\n    width: 55,\n    marginLeft: 320,\n    marginTop: -43\n  }\n});\nexport default PaymentHistory;","map":{"version":3,"sources":["D:/marketsite/screens/PaymentHistory.js"],"names":["React","useState","useFocusEffect","firebase","db","PaymentHistory","renderGridItem","itemData","styles","list1","listname","item","serviceprovider_name","timeanddate","Booking_Date","amountColumn","amount","imageRow","require","image","text2","final_charge","result","loading","setLoading","booking","setBooking","email","auth","currentUser","getBooking","collection","doc","get","then","querySnapshot","forEach","push","data","container","Booking_id","StyleSheet","create","flex","backgroundColor","width","height","marginTop","color","fontSize","marginLeft","fontWeight","flexDirection","marginRight"],"mappings":"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","sourcesContent":["import React, { useState} from \"react\";\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport { StyleSheet, TouchableOpacity, Text,FlatList, SafeAreaView, View ,Image} from \"react-native\";\r\nimport * as firebase from 'firebase';\r\nimport db from '../config';\r\n\r\n\r\nconst PaymentHistory = () =>{\r\n  \r\n  const renderGridItem = (itemData) =>{\r\n\r\n       return <TouchableOpacity style={styles.list1}>\r\n          <Text style={styles.listname}>{itemData.item.serviceprovider_name}</Text>\r\n          <Text style={styles.timeanddate}>{itemData.item.Booking_Date}</Text>\r\n          <View style={styles.amountColumn}>\r\n            <Text style={styles.amount}>Amount</Text>\r\n            <View style={styles.imageRow}>\r\n              <Image\r\n                source={require(\"../assets/images/rupee-indian.png\")}\r\n                resizeMode=\"contain\"\r\n                style={styles.image}\r\n              ></Image>\r\n              <Text style={styles.text2}>{itemData.item.final_charge}</Text>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n  }\r\n\r\n  const result = []\r\n  const [loading, setLoading] = useState(true);\r\n  const [booking, setBooking] = useState([]);\r\n  const email=firebase.auth().currentUser.email;\r\n  const getBooking = async () => {\r\n    await db.collection(\"booking\").doc(email).collection(email).get().then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n          result.push(doc.data());\r\n      });\r\n  });\r\n  setBooking(result);\r\n  setLoading(false);\r\n  }\r\n\r\n  useFocusEffect(()=>{\r\n    getBooking();\r\n  })\r\n\r\n  if(loading) return null\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n    <FlatList\r\n    keyExtractor={(item) => item.Booking_id}\r\n    data={booking} \r\n    renderItem={renderGridItem} \r\n    /></SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"rgba(238,238,238,1)\",\r\n  },\r\n  list1: {\r\n    width: 395,\r\n    height: 63,\r\n    backgroundColor: \"rgba(255,255,255,1)\",\r\n    marginTop: 5\r\n  },\r\n  listname: {\r\n    color: \"#121212\",\r\n    height: 29,\r\n    width: 143,\r\n    fontSize: 17,\r\n    marginTop: 6,\r\n    marginLeft: 11,\r\n    fontWeight:'bold',\r\n  },\r\n  timeanddate: {\r\n    color: \"#121212\",\r\n    marginTop: 0,\r\n    marginLeft: 11\r\n  },\r\n  amount: {\r\n    color: \"#121212\"\r\n  },\r\n  image: {\r\n    width: 12,\r\n    height: 10,\r\n    marginTop: 4\r\n  },\r\n  text2: {\r\n    color: \"#121212\",\r\n    marginLeft: 2\r\n  },\r\n  imageRow: {\r\n    height: 20,\r\n    flexDirection: \"row\",\r\n    marginTop: 2,\r\n    marginLeft: 2,\r\n    marginRight: 10\r\n  },\r\n  amountColumn: {\r\n    width: 55,\r\n    marginLeft: 320,\r\n    marginTop:-43\r\n  },\r\n});\r\n\r\nexport default PaymentHistory;\r\n"]},"metadata":{},"sourceType":"module"}